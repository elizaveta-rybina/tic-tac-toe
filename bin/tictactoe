#!/usr/bin/env php
<?php

declare(strict_types=1);

$autoloadPath = dirname(__DIR__, 3) . '/autoload.php';
if (file_exists($autoloadPath)) {
	require $autoloadPath;
} else {
	die("Error: autoload.php not found. Run 'composer install' first.");
}

use TicTacToe\Core\Board;
use TicTacToe\Core\Game;
use TicTacToe\Core\GameState;
use TicTacToe\Core\PlayerManager;
use TicTacToe\Cli\Controller\GameController;
use TicTacToe\Cli\View\GameView;

$board = new Board();
$state = new GameState();
$playerManager = new PlayerManager();
$game = new Game($board, $state, $playerManager);

$view = new GameView($board, $state, $playerManager);
$controller = new GameController($game, $view);

$controller->start();
